@model IIITS.Training.Web.Areas.Demo.Models.LeaveRequestMainModelEntity
@{
    ViewData["Title"] = "LeaveRequest";
}
<!-- Bootstrap CSS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" />
<!-- jQuery library file -->
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>

<!-- Datatable plugin JS library file -->
<script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



<h2 class="text-center my-4">
    Leave Request View
</h2>

<div class="container"> 
    <div id="divnew" style="margin: 1%;margin-left:48px;">
        <button class="btn btn-success" onclick="NewRequest()">Request Leave</button>
    </div>
    <div></div>
    <div class=" form-group table-responsive">
        <table id="grdTable" class="table table-hover table-bordered">
            <thead class="table-dark">
                <tr>
@*                     <th class="text-center">Action</th>
 *@                  <th class="text-center"> Id</th>
                    <th class="text-center">Code</th>
                    <th class="text-center">Name</th>
                    <th class="text-center">LeaveType</th>
                    <th class="text-center">Total Days</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">Action</th>

                </tr>
            </thead>
            <tbody class="text-center" style="align-content:center;align-items:center;text-align:center!important">
                <!-- DataTables will populate this area -->
            </tbody>
        </table>
    </div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

<script>
    $(document).ready(function () {


        $('#grdTable').DataTable({
            'ajax': {
                type: "GET",
                url: "../Demo/LeaveRequest/GetLeaveRequestView",
                dataType: "json",
            },
            'columns': [
                // {
                //     "data": "EmpId", "autoWidth": true, "render": function (data, type, row) {
                //         return '<a style="color:green;" title="Clike here to Edit" href="javascript:EditClick(\'' + row.EmpId + '\')" class="fa fa-pencil"></a>';

                //          } },
                { "data": "empId", "autoWidth": true },
                { "data": "empCode", "autoWidth": true },
                { "data": "empName", "autoWidth": true },
                { "data": "empLeaveType", "autoWidth": true },
                { "data": "totalDays", "autoWidth": true },
                { "data": "empStatus", "autoWidth": true },

                {
                    "data": "empId", "autoWidth": true, "render": function (data, type, row) {
                        debugger
                        // return '<a style="color:green;" title="Clike here to Edit" href="javascript:EditClick(\'' + row.empId + '\')" class="fa fa-pencil"></a>';
                        return '<a style="color:green;" title="Click here to Edit" href="javascript:EditClick(\'' + row.empId + '\')" class="fa fa-pencil"></a> ' +
                            '<a style="color:red;" title="Click here to Delete" href="javascript:DeleteClick(\'' + row.empId + '\')" class="fa fa-trash"></a>';

                    }
                },

            ],
            'paging': true,
            'searching': true,
            'ordering': true,
            'info': true,
            'lengthMenu': [10, 25, 50, 100],
            'language': {
                'lengthMenu': 'Display MENU records per page',
                'zeroRecords': 'No matching records found',
                'info': 'Showing page PAGE of _PAGES_',
                'infoEmpty': 'No records available',
                'infoFiltered': '(filtered from MAX total records)'
            }
        });




    });




   
    function NewRequest() {
        window.location.href = "../Demo/LeaveRequest/LeaveRequest?empleaveId=0";
    }
    function EditClick(empleaveId) {
        window.location.href = "../Demo/LeaveRequest/LeaveRequest?empleaveId=" + empleaveId;
    }
    function DeleteClick(empleaveId) {
        window.location.href = "../Demo/LeaveRequest/LeaveRequestDelete?empleaveId=" + empleaveId;
    }
</script>

<style>
    h2 {
        font-size: 2rem;
        font-weight: bold;
        color: purple;
    }

    .table {
        font-size: 1rem;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: auto;
        width:1300px!important;
    }

    .table thead {
        background-color:purple;
        color: #fff;
    }

    .table thead th {
        font-weight: bold;
        padding: 12px;
    }

    .table-hover tbody tr:hover {
        background-color:pink;
    }

    .table-responsive {
        max-width: 95%;
        margin: auto;
    }

    .btn-success {
        font-size: 1rem;
        padding: 0.5rem 1.5rem;
        color: burlywood;
    }

    .container {
        max-width: 2000px;
    }
</style>
